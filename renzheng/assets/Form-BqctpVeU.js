import{r as fe,p as ze,i as _n,a as Ze,g as he,o as gt,c as _,b as B,d as Le,e as pn,w as D,u as ee,f as ve,n as X,h as Ge,j as K,k as f,m as re,l as mt,T as Ut,q as qt,s as ht,v as bt,F as Kt,t as Rn,x as zn,y as Vn,z as Dn,A as Ln,B as Xt,C as Fn,D as tt,E as Mn,G as Nn,H as nt,I as Ne,J as jn}from"./index-DHjWiUk5.js";import{_ as Hn}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Wn(){}const Q=Object.assign,Je=typeof window<"u",Fe=e=>e!==null&&typeof e=="object",U=e=>e!=null,Xe=e=>typeof e=="function",Zt=e=>Fe(e)&&Xe(e.then)&&Xe(e.catch),Gt=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Yn=()=>Je?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Et(e,t){const n=t.split(".");let l=e;return n.forEach(a=>{var o;l=Fe(l)&&(o=l[a])!=null?o:""}),l}function ut(e,t,n){return t.reduce((l,a)=>(l[a]=e[a],l),{})}const $t=e=>Array.isArray(e)?e:[e],de=null,p=[Number,String],H={type:Boolean,default:!0},ot=e=>({type:e,required:!0}),Un=()=>({type:Array,default:()=>[]}),qn=e=>({type:Number,default:e}),ae=e=>({type:p,default:e}),j=e=>({type:String,default:e});var Ie=typeof window<"u";function Ve(e){return Ie?requestAnimationFrame(e):-1}function Jt(e){Ie&&cancelAnimationFrame(e)}function pe(e){Ve(()=>Ve(e))}var Kn=e=>e===window,At=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),we=e=>{const t=ee(e);if(Kn(t)){const n=t.innerWidth,l=t.innerHeight;return At(n,l)}return t?.getBoundingClientRect?t.getBoundingClientRect():At(0,0)};function yt(e){const t=Ze(e,null);if(t){const n=he(),{link:l,unlink:a,internalChildren:o}=t;l(n),gt(()=>a(n));const g=_(()=>o.indexOf(n));return{parent:t,index:g}}return{parent:null,index:B(-1)}}function Xn(e){const t=[],n=l=>{Array.isArray(l)&&l.forEach(a=>{var o;_n(a)&&(t.push(a),(o=a.component)!=null&&o.subTree&&(t.push(a.component.subTree),n(a.component.subTree.children)),a.children&&n(a.children))})};return n(e),t}var Ot=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(l=>t.key!==void 0&&t.key!==null&&l.type===t.type&&l.key===t.key):n};function Zn(e,t,n){const l=Xn(e.subTree.children);n.sort((o,g)=>Ot(l,o.vnode)-Ot(l,g.vnode));const a=n.map(o=>o.proxy);t.sort((o,g)=>{const s=a.indexOf(o),r=a.indexOf(g);return s-r})}function wt(e){const t=fe([]),n=fe([]),l=he();return{children:t,linkChildren:o=>{ze(e,Object.assign({link:r=>{r.proxy&&(n.push(r),t.push(r.proxy),Zn(l,t,n))},unlink:r=>{const d=n.indexOf(r);t.splice(d,1),n.splice(d,1)},children:t,internalChildren:n},o))}}}function Qe(e){let t;ve(()=>{e(),X(()=>{t=!0})}),Ge(()=>{t&&e()})}function Ee(e,t,n={}){if(!Ie)return;const{target:l=window,passive:a=!1,capture:o=!1}=n;let g=!1,s;const r=u=>{if(g)return;const v=ee(u);v&&!s&&(v.addEventListener(e,t,{capture:o,passive:a}),s=!0)},d=u=>{if(g)return;const v=ee(u);v&&s&&(v.removeEventListener(e,t,o),s=!1)};gt(()=>d(l)),Le(()=>d(l)),Qe(()=>r(l));let c;return pn(l)&&(c=D(l,(u,v)=>{d(v),r(u)})),()=>{c?.(),d(l),g=!0}}var je,lt;function Gn(){if(!je&&(je=B(0),lt=B(0),Ie)){const e=()=>{je.value=window.innerWidth,lt.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:je,height:lt}}var Jn=/scroll|auto|overlay/i,Qt=Ie?window:void 0;function Qn(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function en(e,t=Qt){let n=e;for(;n&&n!==t&&Qn(n);){const{overflowY:l}=window.getComputedStyle(n);if(Jn.test(l))return n;n=n.parentNode}return t}function tn(e,t=Qt){const n=B();return ve(()=>{e.value&&(n.value=en(e.value,t))}),n}var He;function eo(){if(!He&&(He=B("visible"),Ie)){const e=()=>{He.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return He}var to=Symbol("van-field");function Ct(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function dt(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function St(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function xt(e){dt(window,e),dt(document.body,e)}function Pt(e,t){if(e===window)return 0;const n=t?Ct(t):St();return we(e).top+n}const no=Yn();function oo(){no&&xt(St())}const lo=e=>e.stopPropagation();function me(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&lo(e)}function De(e){const t=ee(e);if(!t)return!1;const n=window.getComputedStyle(t),l=n.display==="none",a=t.offsetParent===null&&n.position!=="fixed";return l||a}const{width:et,height:Tt}=Gn();function J(e){if(U(e))return Gt(e)?`${e}px`:String(e)}function ao(e){if(U(e)){if(Array.isArray(e))return{width:J(e[0]),height:J(e[1])};const t=J(e);return{width:t,height:t}}}function nn(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let at;function io(){if(!at){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;at=parseFloat(t)}return at}function ro(e){return e=e.replace(/rem/g,""),+e*io()}function so(e){return e=e.replace(/vw/g,""),+e*et.value/100}function co(e){return e=e.replace(/vh/g,""),+e*Tt.value/100}function on(e){if(typeof e=="number")return e;if(Je){if(e.includes("rem"))return ro(e);if(e.includes("vw"))return so(e);if(e.includes("vh"))return co(e)}return parseFloat(e)}const uo=/-(\w)/g,ln=e=>e.replace(uo,(t,n)=>n.toUpperCase()),qe=(e,t,n)=>Math.min(Math.max(e,t),n);function _t(e,t,n){const l=e.indexOf(t);return l===-1?e:t==="-"&&l!==0?e.slice(0,l):e.slice(0,l+1)+e.slice(l).replace(n,"")}function fo(e,t=!0,n=!0){t?e=_t(e,".",/\./g):e=e.split(".")[0],n?e=_t(e,"-",/-/g):e=e.replace(/-/,"");const l=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(l,"")}const{hasOwnProperty:vo}=Object.prototype;function go(e,t,n){const l=t[n];U(l)&&(!vo.call(e,n)||!Fe(l)?e[n]=l:e[n]=an(Object(e[n]),l))}function an(e,t){return Object.keys(t).forEach(n=>{go(e,t,n)}),e}var mo={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const pt=B("zh-CN"),Rt=fe({"zh-CN":mo}),ho={messages(){return Rt[pt.value]},use(e,t){pt.value=e,this.add({[e]:t})},add(e={}){an(Rt,e)}};var bo=ho;function yo(e){const t=ln(e)+".";return(n,...l)=>{const a=bo.messages(),o=Et(a,t+n)||Et(a,n);return Xe(o)?o(...l):o}}function ft(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,l)=>n+ft(e,l),""):Object.keys(t).reduce((n,l)=>n+(t[l]?ft(e,l):""),""):""}function wo(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${ft(t,n)}`)}function q(e){const t=`van-${e}`;return[t,wo(t),yo(t)]}const rn="van-hairline",Co=`${rn}--surround`,sn=`${rn}--top-bottom`,cn="van-haptics-feedback",un=Symbol("van-form"),zt=5;function dn(e,{args:t=[],done:n,canceled:l,error:a}){if(e){const o=e.apply(null,t);Zt(o)?o.then(g=>{g?n():l&&l()}).catch(a||Wn):o?n():l&&l()}else n()}function Z(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(ln(`-${n}`),e))},e}const fn=Symbol();function vn(e){const t=Ze(fn,null);t&&D(t,n=>{n&&e()})}function ge(e){const t=he();t&&Q(t.proxy,e)}const kt={to:[String,Object],url:String,replace:Boolean};function gn({to:e,url:t,replace:n,$router:l}){e&&l?l[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function mn(){const e=he().proxy;return()=>gn(e)}const[So,Vt]=q("badge"),xo={dot:Boolean,max:p,tag:j("div"),color:String,offset:Array,content:p,showZero:H,position:j("top-right")};var To=K({name:So,props:xo,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:s,showZero:r}=e;return U(s)&&s!==""&&(r||s!==0&&s!=="0")},l=()=>{const{dot:s,max:r,content:d}=e;if(!s&&n())return t.content?t.content():U(r)&&Gt(d)&&+d>+r?`${r}+`:d},a=s=>s.startsWith("-")?s.replace("-",""):`-${s}`,o=_(()=>{const s={background:e.color};if(e.offset){const[r,d]=e.offset,{position:c}=e,[u,v]=c.split("-");t.default?(typeof d=="number"?s[u]=J(u==="top"?d:-d):s[u]=u==="top"?J(d):a(d),typeof r=="number"?s[v]=J(v==="left"?r:-r):s[v]=v==="left"?J(r):a(r)):(s.marginTop=J(d),s.marginLeft=J(r))}return s}),g=()=>{if(n()||e.dot)return f("div",{class:Vt([e.position,{dot:e.dot,fixed:!!t.default}]),style:o.value},[l()])};return()=>{if(t.default){const{tag:s}=e;return f(s,{class:Vt("wrapper")},{default:()=>[t.default(),g()]})}return g()}}});const hn=Z(To);let ko=2e3;const Bo=()=>++ko,[Io]=q("config-provider"),Eo=Symbol(Io),[$o,Dt]=q("icon"),Ao=e=>e?.includes("/"),Oo={dot:Boolean,tag:j("i"),name:String,size:p,badge:p,color:String,badgeProps:Object,classPrefix:String};var Po=K({name:$o,props:Oo,setup(e,{slots:t}){const n=Ze(Eo,null),l=_(()=>e.classPrefix||n?.iconPrefix||Dt());return()=>{const{tag:a,dot:o,name:g,size:s,badge:r,color:d}=e,c=Ao(g);return f(hn,re({dot:o,tag:a,class:[l.value,c?"":`${l.value}-${g}`],style:{color:d,fontSize:J(s)},content:r},e.badgeProps),{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t),c&&f("img",{class:Dt("image"),src:g},null)]}})}}});const ie=Z(Po),[_o,Re]=q("loading"),po=Array(12).fill(null).map((e,t)=>f("i",{class:Re("line",String(t+1))},null)),Ro=f("svg",{class:Re("circular"),viewBox:"25 25 50 50"},[f("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),zo={size:p,type:j("circular"),color:String,vertical:Boolean,textSize:p,textColor:String};var Vo=K({name:_o,props:zo,setup(e,{slots:t}){const n=_(()=>Q({color:e.color},ao(e.size))),l=()=>{const o=e.type==="spinner"?po:Ro;return f("span",{class:Re("spinner",e.type),style:n.value},[t.icon?t.icon():o])},a=()=>{var o;if(t.default)return f("span",{class:Re("text"),style:{fontSize:J(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[t.default()])};return()=>{const{type:o,vertical:g}=e;return f("div",{class:Re([o,{vertical:g}]),"aria-live":"polite","aria-busy":!0},[l(),a()])}}});const bn=Z(Vo),[Do,Te]=q("button"),Lo=Q({},kt,{tag:j("button"),text:String,icon:String,type:j("default"),size:j("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:j("button"),loadingSize:p,loadingText:String,loadingType:String,iconPosition:j("left")});var Fo=K({name:Do,props:Lo,emits:["click"],setup(e,{emit:t,slots:n}){const l=mn(),a=()=>n.loading?n.loading():f(bn,{size:e.loadingSize,type:e.loadingType,class:Te("loading")},null),o=()=>{if(e.loading)return a();if(n.icon)return f("div",{class:Te("icon")},[n.icon()]);if(e.icon)return f(ie,{name:e.icon,class:Te("icon"),classPrefix:e.iconPrefix},null)},g=()=>{let d;if(e.loading?d=e.loadingText:d=n.default?n.default():e.text,d)return f("span",{class:Te("text")},[d])},s=()=>{const{color:d,plain:c}=e;if(d){const u={color:c?d:"white"};return c||(u.background=d),d.includes("gradient")?u.border=0:u.borderColor=d,u}},r=d=>{e.loading?me(d):e.disabled||(t("click",d),l())};return()=>{const{tag:d,type:c,size:u,block:v,round:T,plain:w,square:$,loading:m,disabled:k,hairline:C,nativeType:V,iconPosition:z}=e,y=[Te([c,u,{plain:w,block:v,round:T,square:$,loading:m,disabled:k,hairline:C}]),{[Co]:C}];return f(d,{type:V,class:y,style:s(),disabled:k,onClick:r},{default:()=>[f("div",{class:Te("content")},[z==="left"&&o(),g(),z==="right"&&o()])]})}}});const Mo=Z(Fo),No={show:Boolean,zIndex:p,overlay:H,duration:p,teleport:[String,Object],lockScroll:H,lazyRender:H,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:de,transitionAppear:Boolean,closeOnClickOverlay:H};function jo(e,t){return e>t?"horizontal":t>e?"vertical":""}function yn(){const e=B(0),t=B(0),n=B(0),l=B(0),a=B(0),o=B(0),g=B(""),s=B(!0),r=()=>g.value==="vertical",d=()=>g.value==="horizontal",c=()=>{n.value=0,l.value=0,a.value=0,o.value=0,g.value="",s.value=!0};return{move:T=>{const w=T.touches[0];n.value=(w.clientX<0?0:w.clientX)-e.value,l.value=w.clientY-t.value,a.value=Math.abs(n.value),o.value=Math.abs(l.value);const $=10;(!g.value||a.value<$&&o.value<$)&&(g.value=jo(a.value,o.value)),s.value&&(a.value>zt||o.value>zt)&&(s.value=!1)},start:T=>{c(),e.value=T.touches[0].clientX,t.value=T.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:n,deltaY:l,offsetX:a,offsetY:o,direction:g,isVertical:r,isHorizontal:d,isTap:s}}let Pe=0;const Lt="van-overflow-hidden";function Ho(e,t){const n=yn(),l="01",a="10",o=c=>{n.move(c);const u=n.deltaY.value>0?a:l,v=en(c.target,e.value),{scrollHeight:T,offsetHeight:w,scrollTop:$}=v;let m="11";$===0?m=w>=T?"00":"01":$+w>=T&&(m="10"),m!=="11"&&n.isVertical()&&!(parseInt(m,2)&parseInt(u,2))&&me(c,!0)},g=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),Pe||document.body.classList.add(Lt),Pe++},s=()=>{Pe&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),Pe--,Pe||document.body.classList.remove(Lt))},r=()=>t()&&g(),d=()=>t()&&s();Qe(r),Le(d),mt(d),D(t,c=>{c?g():s()})}function wn(e){const t=B(!1);return D(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const vt=()=>{var e;const{scopeId:t}=((e=he())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Wo,Yo]=q("overlay"),Uo={show:Boolean,zIndex:p,duration:p,className:de,lockScroll:H,lazyRender:H,customStyle:Object,teleport:[String,Object]};var qo=K({name:Wo,inheritAttrs:!1,props:Uo,setup(e,{attrs:t,slots:n}){const l=B(),a=wn(()=>e.show||!e.lazyRender),o=s=>{e.lockScroll&&me(s,!0)},g=a(()=>{var s;const r=Q(nn(e.zIndex),e.customStyle);return U(e.duration)&&(r.animationDuration=`${e.duration}s`),ht(f("div",re({ref:l,style:r,class:[Yo(),e.className]},t),[(s=n.default)==null?void 0:s.call(n)]),[[bt,e.show]])});return Ee("touchmove",o,{target:l}),()=>{const s=f(Ut,{name:"van-fade",appear:!0},{default:g});return e.teleport?f(qt,{to:e.teleport},{default:()=>[s]}):s}}});const Ko=Z(qo),Xo=Q({},No,{round:Boolean,position:j("center"),closeIcon:j("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:j("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Zo,Ft]=q("popup");var Go=K({name:Zo,inheritAttrs:!1,props:Xo,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:l}){let a,o;const g=B(),s=B(),r=wn(()=>e.show||!e.lazyRender),d=_(()=>{const h={zIndex:g.value};if(U(e.duration)){const E=e.position==="center"?"animationDuration":"transitionDuration";h[E]=`${e.duration}s`}return h}),c=()=>{a||(a=!0,g.value=e.zIndex!==void 0?+e.zIndex:Bo(),t("open"))},u=()=>{a&&dn(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},v=h=>{t("clickOverlay",h),e.closeOnClickOverlay&&u()},T=()=>{if(e.overlay){const h=Q({show:e.show,class:e.overlayClass,zIndex:g.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return f(Ko,re(h,vt(),{onClick:v}),{default:l["overlay-content"]})}},w=h=>{t("clickCloseIcon",h),u()},$=()=>{if(e.closeable)return f(ie,{role:"button",tabindex:0,name:e.closeIcon,class:[Ft("close-icon",e.closeIconPosition),cn],classPrefix:e.iconPrefix,onClick:w},null)};let m;const k=()=>{m&&clearTimeout(m),m=setTimeout(()=>{t("opened")})},C=()=>t("closed"),V=h=>t("keydown",h),z=r(()=>{var h;const{destroyOnClose:E,round:O,position:P,safeAreaInsetTop:L,safeAreaInsetBottom:Y,show:W}=e;if(!(!W&&E))return ht(f("div",re({ref:s,style:d.value,role:"dialog",tabindex:0,class:[Ft({round:O,[P]:P}),{"van-safe-area-top":L,"van-safe-area-bottom":Y}],onKeydown:V},n,vt()),[(h=l.default)==null?void 0:h.call(l),$()]),[[bt,W]])}),y=()=>{const{position:h,transition:E,transitionAppear:O}=e,P=h==="center"?"van-fade":`van-popup-slide-${h}`;return f(Ut,{name:E||P,appear:O,onAfterEnter:k,onAfterLeave:C},{default:z})};return D(()=>e.show,h=>{h&&!a&&(c(),n.tabindex===0&&X(()=>{var E;(E=s.value)==null||E.focus()})),!h&&a&&(a=!1,t("close"))}),ge({popupRef:s}),Ho(s,()=>e.show&&e.lockScroll),Ee("popstate",()=>{e.closeOnPopstate&&(u(),o=!1)}),ve(()=>{e.show&&c()}),Ge(()=>{o&&(t("update:show",!0),o=!1)}),Le(()=>{e.show&&e.teleport&&(u(),o=!0)}),ze(fn,()=>e.show),()=>e.teleport?f(qt,{to:e.teleport},{default:()=>[T(),y()]}):f(Kt,null,[T(),y()])}});const Cn=Z(Go);function Jo(e,t,n){let l,a=0;const o=e.scrollLeft,g=n===0?1:Math.round(n*1e3/16);let s=o;function r(){Jt(l)}function d(){s+=(t-o)/g,e.scrollLeft=s,++a<g&&(l=Ve(d))}return d(),r}function Qo(e,t,n,l){let a,o=Ct(e);const g=o<t,s=n===0?1:Math.round(n*1e3/16),r=(t-o)/s;function d(){Jt(a)}function c(){o+=r,(g&&o>t||!g&&o<t)&&(o=t),dt(e,o),g&&o<t||!g&&o>t?a=Ve(c):l&&(a=Ve(l))}return c(),d}let el=0;function Bt(){const e=he(),{name:t="unknown"}=e?.type||{};return`${t}-${++el}`}function Sn(){const e=B([]),t=[];return Rn(()=>{e.value=[]}),[e,l=>(t[l]||(t[l]=a=>{e.value[l]=a}),t[l])]}function xn(e,t){if(!Je||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{t(o[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&n.observe(e.value)},a=()=>{e.value&&n.unobserve(e.value)};Le(a),mt(a),Qe(l)}const[tl,nl]=q("sticky"),ol={zIndex:p,position:j("top"),container:Object,offsetTop:ae(0),offsetBottom:ae(0)};var ll=K({name:tl,props:ol,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const l=B(),a=tn(l),o=fe({fixed:!1,width:0,height:0,transform:0}),g=B(!1),s=_(()=>on(e.position==="top"?e.offsetTop:e.offsetBottom)),r=_(()=>{if(g.value)return;const{fixed:v,height:T,width:w}=o;if(v)return{width:`${w}px`,height:`${T}px`}}),d=_(()=>{if(!o.fixed||g.value)return;const v=Q(nn(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${s.value}px`});return o.transform&&(v.transform=`translate3d(0, ${o.transform}px, 0)`),v}),c=v=>t("scroll",{scrollTop:v,isFixed:o.fixed}),u=()=>{if(!l.value||De(l))return;const{container:v,position:T}=e,w=we(l),$=Ct(window);if(o.width=w.width,o.height=w.height,T==="top")if(v){const m=we(v),k=m.bottom-s.value-o.height;o.fixed=s.value>w.top&&m.bottom>0,o.transform=k<0?k:0}else o.fixed=s.value>w.top;else{const{clientHeight:m}=document.documentElement;if(v){const k=we(v),C=m-k.top-s.value-o.height;o.fixed=m-s.value<w.bottom&&m>k.top,o.transform=C<0?-C:0}else o.fixed=m-s.value<w.bottom}c($)};return D(()=>o.fixed,v=>t("change",v)),Ee("scroll",u,{target:a,passive:!0}),xn(l,u),D([et,Tt],()=>{!l.value||De(l)||!o.fixed||(g.value=!0,X(()=>{const v=we(l);o.width=v.width,o.height=v.height,g.value=!1}))}),()=>{var v;return f("div",{ref:l,style:r.value},[f("div",{class:nl({fixed:o.fixed&&!g.value}),style:d.value},[(v=n.default)==null?void 0:v.call(n)])])}}});const al=Z(ll),[Tn,We]=q("swipe"),il={loop:H,width:p,height:p,vertical:Boolean,autoplay:ae(0),duration:ae(500),touchable:H,lazyRender:Boolean,initialSwipe:ae(0),indicatorColor:String,showIndicators:H,stopPropagation:H},kn=Symbol(Tn);var rl=K({name:Tn,props:il,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const l=B(),a=B(),o=fe({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let g=!1;const s=yn(),{children:r,linkChildren:d}=wt(kn),c=_(()=>r.length),u=_(()=>o[e.vertical?"height":"width"]),v=_(()=>e.vertical?s.deltaY.value:s.deltaX.value),T=_(()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-u.value*c.value:0),w=_(()=>u.value?Math.ceil(Math.abs(T.value)/u.value):c.value),$=_(()=>c.value*u.value),m=_(()=>(o.active+c.value)%c.value),k=_(()=>{const I=e.vertical?"vertical":"horizontal";return s.direction.value===I}),C=_(()=>{const I={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(u.value){const F=e.vertical?"height":"width",M=e.vertical?"width":"height";I[F]=`${$.value}px`,I[M]=e[M]?`${e[M]}px`:""}return I}),V=I=>{const{active:F}=o;return I?e.loop?qe(F+I,-1,c.value):qe(F+I,0,w.value):F},z=(I,F=0)=>{let M=I*u.value;e.loop||(M=Math.min(M,-T.value));let G=F-M;return e.loop||(G=qe(G,T.value,0)),G},y=({pace:I=0,offset:F=0,emitChange:M})=>{if(c.value<=1)return;const{active:G}=o,b=V(I),A=z(b,F);if(e.loop){if(r[0]&&A!==T.value){const i=A<T.value;r[0].setOffset(i?$.value:0)}if(r[c.value-1]&&A!==0){const i=A>0;r[c.value-1].setOffset(i?-$.value:0)}}o.active=b,o.offset=A,M&&b!==G&&t("change",m.value)},h=()=>{o.swiping=!0,o.active<=-1?y({pace:c.value}):o.active>=c.value&&y({pace:-c.value})},E=()=>{h(),s.reset(),pe(()=>{o.swiping=!1,y({pace:-1,emitChange:!0})})},O=()=>{h(),s.reset(),pe(()=>{o.swiping=!1,y({pace:1,emitChange:!0})})};let P;const L=()=>clearTimeout(P),Y=()=>{L(),+e.autoplay>0&&c.value>1&&(P=setTimeout(()=>{O(),Y()},+e.autoplay))},W=(I=+e.initialSwipe)=>{if(!l.value)return;const F=()=>{var M,G;if(!De(l)){const b={width:l.value.offsetWidth,height:l.value.offsetHeight};o.rect=b,o.width=+((M=e.width)!=null?M:b.width),o.height=+((G=e.height)!=null?G:b.height)}c.value&&(I=Math.min(c.value-1,I),I===-1&&(I=c.value-1)),o.active=I,o.swiping=!0,o.offset=z(I),r.forEach(b=>{b.setOffset(0)}),Y()};De(l)?X().then(F):F()},se=()=>W(o.active);let be;const Ce=I=>{!e.touchable||I.touches.length>1||(s.start(I),g=!1,be=Date.now(),L(),h())},$e=I=>{e.touchable&&o.swiping&&(s.move(I),k.value&&(!e.loop&&(o.active===0&&v.value>0||o.active===c.value-1&&v.value<0)||(me(I,e.stopPropagation),y({offset:v.value}),g||(t("dragStart",{index:m.value}),g=!0))))},Se=()=>{if(!e.touchable||!o.swiping)return;const I=Date.now()-be,F=v.value/I;if((Math.abs(F)>.25||Math.abs(v.value)>u.value/2)&&k.value){const G=e.vertical?s.offsetY.value:s.offsetX.value;let b=0;e.loop?b=G>0?v.value>0?-1:1:0:b=-Math[v.value>0?"ceil":"floor"](v.value/u.value),y({pace:b,emitChange:!0})}else v.value&&y({pace:0});g=!1,o.swiping=!1,t("dragEnd",{index:m.value}),Y()},xe=(I,F={})=>{h(),s.reset(),pe(()=>{let M;e.loop&&I===c.value?M=o.active===0?0:I:M=I%c.value,F.immediate?pe(()=>{o.swiping=!1}):o.swiping=!1,y({pace:M-o.active,emitChange:!0})})},Ae=(I,F)=>{const M=F===m.value,G=M?{backgroundColor:e.indicatorColor}:void 0;return f("i",{style:G,class:We("indicator",{active:M})},null)},Oe=()=>{if(n.indicator)return n.indicator({active:m.value,total:c.value});if(e.showIndicators&&c.value>1)return f("div",{class:We("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(Ae)])};return ge({prev:E,next:O,state:o,resize:se,swipeTo:xe}),d({size:u,props:e,count:c,activeIndicator:m}),D(()=>e.initialSwipe,I=>W(+I)),D(c,()=>W(o.active)),D(()=>e.autoplay,Y),D([et,Tt,()=>e.width,()=>e.height],se),D(eo(),I=>{I==="visible"?Y():L()}),ve(W),Ge(()=>W(o.active)),vn(()=>W(o.active)),Le(L),mt(L),Ee("touchmove",$e,{target:a}),()=>{var I;return f("div",{ref:l,class:We()},[f("div",{ref:a,style:C.value,class:We("track",{vertical:e.vertical}),onTouchstartPassive:Ce,onTouchend:Se,onTouchcancel:Se},[(I=n.default)==null?void 0:I.call(n)]),Oe()])}}});const sl=Z(rl),[cl,Mt]=q("tabs");var ul=K({name:cl,props:{count:ot(Number),inited:Boolean,animated:Boolean,duration:ot(p),swipeable:Boolean,lazyRender:Boolean,currentIndex:ot(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const l=B(),a=s=>t("change",s),o=()=>{var s;const r=(s=n.default)==null?void 0:s.call(n);return e.animated||e.swipeable?f(sl,{ref:l,loop:!1,class:Mt("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[r]}):r},g=s=>{const r=l.value;r&&r.state.active!==s&&r.swipeTo(s,{immediate:!e.inited})};return D(()=>e.currentIndex,g),ve(()=>{g(e.currentIndex)}),ge({swipeRef:l}),()=>f("div",{class:Mt("content",{animated:e.animated||e.swipeable})},[o()])}});const[Bn,Ye]=q("tabs"),dl={type:j("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ae(0),duration:ae(.3),animated:Boolean,ellipsis:H,swipeable:Boolean,scrollspy:Boolean,offsetTop:ae(0),background:String,lazyRender:H,showHeader:H,lineWidth:p,lineHeight:p,beforeChange:Function,swipeThreshold:ae(5),titleActiveColor:String,titleInactiveColor:String},In=Symbol(Bn);var fl=K({name:Bn,props:dl,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let l,a,o,g,s;const r=B(),d=B(),c=B(),u=B(),v=Bt(),T=tn(r),[w,$]=Sn(),{children:m,linkChildren:k}=wt(In),C=fe({inited:!1,position:"",lineStyle:{},currentIndex:-1}),V=_(()=>m.length>+e.swipeThreshold||!e.ellipsis||e.shrink),z=_(()=>({borderColor:e.color,background:e.background})),y=(b,A)=>{var i;return(i=b.name)!=null?i:A},h=_(()=>{const b=m[C.currentIndex];if(b)return y(b,C.currentIndex)}),E=_(()=>on(e.offsetTop)),O=_(()=>e.sticky?E.value+l:0),P=b=>{const A=d.value,i=w.value;if(!V.value||!A||!i||!i[C.currentIndex])return;const S=i[C.currentIndex].$el,x=S.offsetLeft-(A.offsetWidth-S.offsetWidth)/2;g&&g(),g=Jo(A,x,b?0:+e.duration)},L=()=>{const b=C.inited;X(()=>{const A=w.value;if(!A||!A[C.currentIndex]||e.type!=="line"||De(r.value))return;const i=A[C.currentIndex].$el,{lineWidth:S,lineHeight:x}=e,R=i.offsetLeft+i.offsetWidth/2,N={width:J(S),backgroundColor:e.color,transform:`translateX(${R}px) translateX(-50%)`};if(b&&(N.transitionDuration=`${e.duration}s`),U(x)){const te=J(x);N.height=te,N.borderRadius=te}C.lineStyle=N})},Y=b=>{const A=b<C.currentIndex?-1:1;for(;b>=0&&b<m.length;){if(!m[b].disabled)return b;b+=A}},W=(b,A)=>{const i=Y(b);if(!U(i))return;const S=m[i],x=y(S,i),R=C.currentIndex!==null;C.currentIndex!==i&&(C.currentIndex=i,A||P(),L()),x!==e.active&&(t("update:active",x),R&&t("change",x,S.title)),o&&!e.scrollspy&&xt(Math.ceil(Pt(r.value)-E.value))},se=(b,A)=>{const i=m.findIndex((S,x)=>y(S,x)===b);W(i===-1?0:i,A)},be=(b=!1)=>{if(e.scrollspy){const A=m[C.currentIndex].$el;if(A&&T.value){const i=Pt(A,T.value)-O.value;a=!0,s&&s(),s=Qo(T.value,i,b?0:+e.duration,()=>{a=!1})}}},Ce=(b,A,i)=>{const{title:S,disabled:x}=m[A],R=y(m[A],A);x||(dn(e.beforeChange,{args:[R],done:()=>{W(A),be()}}),gn(b)),t("clickTab",{name:R,title:S,event:i,disabled:x})},$e=b=>{o=b.isFixed,t("scroll",b)},Se=b=>{X(()=>{se(b),be(!0)})},xe=()=>{for(let b=0;b<m.length;b++){const{top:A}=we(m[b].$el);if(A>O.value)return b===0?0:b-1}return m.length-1},Ae=()=>{if(e.scrollspy&&!a){const b=xe();W(b)}},Oe=()=>{if(e.type==="line"&&m.length)return f("div",{class:Ye("line"),style:C.lineStyle},null)},I=()=>{var b,A,i;const{type:S,border:x,sticky:R}=e,N=[f("div",{ref:R?void 0:c,class:[Ye("wrap"),{[sn]:S==="line"&&x}]},[f("div",{ref:d,role:"tablist",class:Ye("nav",[S,{shrink:e.shrink,complete:V.value}]),style:z.value,"aria-orientation":"horizontal"},[(b=n["nav-left"])==null?void 0:b.call(n),m.map(te=>te.renderTitle(Ce)),Oe(),(A=n["nav-right"])==null?void 0:A.call(n)])]),(i=n["nav-bottom"])==null?void 0:i.call(n)];return R?f("div",{ref:c},[N]):N},F=()=>{L(),X(()=>{var b,A;P(!0),(A=(b=u.value)==null?void 0:b.swipeRef.value)==null||A.resize()})};D(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],L),D(et,F),D(()=>e.active,b=>{b!==h.value&&se(b)}),D(()=>m.length,()=>{C.inited&&(se(e.active),L(),X(()=>{P(!0)}))});const M=()=>{se(e.active,!0),X(()=>{C.inited=!0,c.value&&(l=we(c.value).height),P(!0)})},G=(b,A)=>t("rendered",b,A);return ge({resize:F,scrollTo:Se}),Ge(L),vn(L),Qe(M),xn(r,L),Ee("scroll",Ae,{target:T,passive:!0}),k({id:v,props:e,setLine:L,scrollable:V,onRendered:G,currentName:h,setTitleRefs:$,scrollIntoView:P}),()=>f("div",{ref:r,class:Ye([e.type])},[e.showHeader?e.sticky?f(al,{container:r.value,offsetTop:E.value,onScroll:$e},{default:()=>[I()]}):I():null,f(ul,{ref:u,count:m.length,inited:C.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:C.currentIndex,onChange:W},{default:()=>{var b;return[(b=n.default)==null?void 0:b.call(n)]}})])}});const vl=Symbol(),En=Symbol(),gl=()=>Ze(En,null),ml=e=>{const t=gl();ze(vl,e),ze(En,_(()=>(t==null||t.value)&&e.value))},[hl,Nt]=q("tab"),bl=K({name:hl,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:p,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:H},setup(e,{slots:t}){const n=_(()=>{const a={},{type:o,color:g,disabled:s,isActive:r,activeColor:d,inactiveColor:c}=e;g&&o==="card"&&(a.borderColor=g,s||(r?a.backgroundColor=g:a.color=g));const v=r?d:c;return v&&(a.color=v),a}),l=()=>{const a=f("span",{class:Nt("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||U(e.badge)&&e.badge!==""?f(hn,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>f("div",{id:e.id,role:"tab",class:[Nt([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[l()])}}),[yl,wl]=q("swipe-item");var Cl=K({name:yl,setup(e,{slots:t}){let n;const l=fe({offset:0,inited:!1,mounted:!1}),{parent:a,index:o}=yt(kn);if(!a)return;const g=_(()=>{const d={},{vertical:c}=a.props;return a.size.value&&(d[c?"height":"width"]=`${a.size.value}px`),l.offset&&(d.transform=`translate${c?"Y":"X"}(${l.offset}px)`),d}),s=_(()=>{const{loop:d,lazyRender:c}=a.props;if(!c||n)return!0;if(!l.mounted)return!1;const u=a.activeIndicator.value,v=a.count.value-1,T=u===0&&d?v:u-1,w=u===v&&d?0:u+1;return n=o.value===u||o.value===T||o.value===w,n}),r=d=>{l.offset=d};return ve(()=>{X(()=>{l.mounted=!0})}),ge({setOffset:r}),()=>{var d;return f("div",{class:wl(),style:g.value},[s.value?(d=t.default)==null?void 0:d.call(t):null])}}});const Sl=Z(Cl),[xl,it]=q("tab"),Tl=Q({},kt,{dot:Boolean,name:p,badge:p,title:String,disabled:Boolean,titleClass:de,titleStyle:[String,Object],showZeroBadge:H});var kl=K({name:xl,props:Tl,setup(e,{slots:t}){const n=Bt(),l=B(!1),a=he(),{parent:o,index:g}=yt(In);if(!o)return;const s=()=>{var w;return(w=e.name)!=null?w:g.value},r=()=>{l.value=!0,o.props.lazyRender&&X(()=>{o.onRendered(s(),e.title)})},d=_(()=>{const w=s()===o.currentName.value;return w&&!l.value&&r(),w}),c=B(""),u=B("");zn(()=>{const{titleClass:w,titleStyle:$}=e;c.value=w?Vn(w):"",u.value=$&&typeof $!="string"?Dn(Ln($)):$});const v=w=>f(bl,re({key:n,id:`${o.id}-${g.value}`,ref:o.setTitleRefs(g.value),style:u.value,class:c.value,isActive:d.value,controls:n,scrollable:o.scrollable.value,activeColor:o.props.titleActiveColor,inactiveColor:o.props.titleInactiveColor,onClick:$=>w(a.proxy,g.value,$)},ut(o.props,["type","color","shrink"]),ut(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),T=B(!d.value);return D(d,w=>{w?T.value=!1:pe(()=>{T.value=!0})}),D(()=>e.title,()=>{o.setLine(),o.scrollIntoView()}),ml(d),ge({id:n,renderTitle:v}),()=>{var w;const $=`${o.id}-${g.value}`,{animated:m,swipeable:k,scrollspy:C,lazyRender:V}=o.props;if(!t.default&&!m)return;const z=C||d.value;if(m||k)return f(Sl,{id:n,role:"tabpanel",class:it("panel-wrapper",{inactive:T.value}),tabindex:d.value?0:-1,"aria-hidden":!d.value,"aria-labelledby":$,"data-allow-mismatch":"attribute"},{default:()=>{var E;return[f("div",{class:it("panel")},[(E=t.default)==null?void 0:E.call(t)])]}});const h=l.value||C||!V?(w=t.default)==null?void 0:w.call(t):null;return ht(f("div",{id:n,role:"tabpanel",class:it("panel"),tabindex:z?0:-1,"aria-labelledby":$,"data-allow-mismatch":"attribute"},[h]),[[bt,z]])}}});const Bl=Z(kl),Il=Z(fl),[El,ke]=q("cell"),$n={tag:j("div"),icon:String,size:String,title:p,value:p,label:p,center:Boolean,isLink:Boolean,border:H,iconPrefix:String,valueClass:de,labelClass:de,titleClass:de,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},$l=Q({},$n,kt);var Al=K({name:El,props:$l,setup(e,{slots:t}){const n=mn(),l=()=>{if(t.label||U(e.label))return f("div",{class:[ke("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{var r;if(t.title||U(e.title)){const d=(r=t.title)==null?void 0:r.call(t);return Array.isArray(d)&&d.length===0?void 0:f("div",{class:[ke("title"),e.titleClass],style:e.titleStyle},[d||f("span",null,[e.title]),l()])}},o=()=>{const r=t.value||t.default;if(r||U(e.value))return f("div",{class:[ke("value"),e.valueClass]},[r?r():f("span",null,[e.value])])},g=()=>{if(t.icon)return t.icon();if(e.icon)return f(ie,{name:e.icon,class:ke("left-icon"),classPrefix:e.iconPrefix},null)},s=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const r=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return f(ie,{name:r,class:ke("right-icon")},null)}};return()=>{var r;const{tag:d,size:c,center:u,border:v,isLink:T,required:w}=e,$=(r=e.clickable)!=null?r:T,m={center:u,required:!!w,clickable:$,borderless:!v};return c&&(m[c]=!!c),f(d,{class:ke(m),role:$?"button":void 0,tabindex:$?0:void 0,onClick:n},{default:()=>{var k;return[g(),a(),o(),s(),(k=t.extra)==null?void 0:k.call(t)]}})}}});const Ol=Z(Al),[Pl,_l]=q("form"),pl={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:p,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:H,showErrorMessage:H,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Rl=K({name:Pl,props:pl,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:l,linkChildren:a}=wt(un),o=m=>m?l.filter(k=>m.includes(k.name)):l,g=m=>new Promise((k,C)=>{const V=[];o(m).reduce((y,h)=>y.then(()=>{if(!V.length)return h.validate().then(E=>{E&&V.push(E)})}),Promise.resolve()).then(()=>{V.length?C(V):k()})}),s=m=>new Promise((k,C)=>{const V=o(m);Promise.all(V.map(z=>z.validate())).then(z=>{z=z.filter(Boolean),z.length?C(z):k()})}),r=m=>{const k=l.find(C=>C.name===m);return k?new Promise((C,V)=>{k.validate().then(z=>{z?V(z):C()})}):Promise.reject()},d=m=>typeof m=="string"?r(m):e.validateFirst?g(m):s(m),c=m=>{typeof m=="string"&&(m=[m]),o(m).forEach(C=>{C.resetValidation()})},u=()=>l.reduce((m,k)=>(m[k.name]=k.getValidationStatus(),m),{}),v=(m,k)=>{l.some(C=>C.name===m?(C.$el.scrollIntoView(k),!0):!1)},T=()=>l.reduce((m,k)=>(k.name!==void 0&&(m[k.name]=k.formValue.value),m),{}),w=()=>{const m=T();d().then(()=>t("submit",m)).catch(k=>{t("failed",{values:m,errors:k});const{scrollToError:C,scrollToErrorPosition:V}=e;C&&k[0].name&&v(k[0].name,V?{block:V}:void 0)})},$=m=>{me(m),w()};return a({props:e}),ge({submit:w,validate:d,getValues:T,scrollToField:v,resetValidation:c,getValidationStatus:u}),()=>{var m;return f("form",{class:_l(),onSubmit:$},[(m=n.default)==null?void 0:m.call(n)])}}});const zl=Z(Rl);function An(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Vl(e,t){if(An(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function Dl(e,t){return new Promise(n=>{const l=t.validator(e,t);if(Zt(l)){l.then(n);return}n(l)})}function jt(e,t){const{message:n}=t;return Xe(n)?n(e,t):n||""}function Ll({target:e}){e.composing=!0}function Ht({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Fl(e,t){const n=St();e.style.height="auto";let l=e.scrollHeight;if(Fe(t)){const{maxHeight:a,minHeight:o}=t;a!==void 0&&(l=Math.min(l,a)),o!==void 0&&(l=Math.max(l,o))}l&&(e.style.height=`${l}px`,xt(n))}function Ml(e,t){return e==="number"&&(e="text",t??(t="decimal")),e==="digit"&&(e="tel",t??(t="numeric")),{type:e,inputmode:t}}function ce(e){return[...e].length}function rt(e,t){return[...e].slice(0,t).join("")}const[Nl,ne]=q("field"),jl={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:p,max:Number,min:Number,formatter:Function,clearIcon:j("clear"),modelValue:ae(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:j("focus"),formatTrigger:j("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},Hl=Q({},$n,jl,{rows:p,type:j("text"),rules:Array,autosize:[Boolean,Object],labelWidth:p,labelClass:de,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Wl=K({name:Nl,props:Hl,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const l=Bt(),a=fe({status:"unvalidated",focused:!1,validateMessage:""}),o=B(),g=B(),s=B(),{parent:r}=yt(un),d=()=>{var i;return String((i=e.modelValue)!=null?i:"")},c=i=>{if(U(e[i]))return e[i];if(r&&U(r.props[i]))return r.props[i]},u=_(()=>{const i=c("readonly");if(e.clearable&&!i){const S=d()!=="",x=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return S&&x}return!1}),v=_(()=>s.value&&n.input?s.value():e.modelValue),T=_(()=>{var i;const S=c("required");return S==="auto"?(i=e.rules)==null?void 0:i.some(x=>x.required):S}),w=i=>i.reduce((S,x)=>S.then(()=>{if(a.status==="failed")return;let{value:R}=v;if(x.formatter&&(R=x.formatter(R,x)),!Vl(R,x)){a.status="failed",a.validateMessage=jt(R,x);return}if(x.validator)return An(R)&&x.validateEmpty===!1?void 0:Dl(R,x).then(N=>{N&&typeof N=="string"?(a.status="failed",a.validateMessage=N):N===!1&&(a.status="failed",a.validateMessage=jt(R,x))})}),Promise.resolve()),$=()=>{a.status="unvalidated",a.validateMessage=""},m=()=>t("endValidate",{status:a.status,message:a.validateMessage}),k=(i=e.rules)=>new Promise(S=>{$(),i?(t("startValidate"),w(i).then(()=>{a.status==="failed"?(S({name:e.name,message:a.validateMessage}),m()):(a.status="passed",S(),m())})):S()}),C=i=>{if(r&&e.rules){const{validateTrigger:S}=r.props,x=$t(S).includes(i),R=e.rules.filter(N=>N.trigger?$t(N.trigger).includes(i):x);R.length&&k(R)}},V=i=>{var S;const{maxlength:x}=e;if(U(x)&&ce(i)>+x){const R=d();if(R&&ce(R)===+x)return R;const N=(S=o.value)==null?void 0:S.selectionEnd;if(a.focused&&N){const te=[...i],ye=te.length-+x;return te.splice(N-ye,ye),te.join("")}return rt(i,+x)}return i},z=(i,S="onChange")=>{var x,R;const N=i;i=V(i);const te=ce(N)-ce(i);if(e.type==="number"||e.type==="digit"){const le=e.type==="number";if(i=fo(i,le,le),S==="onBlur"&&i!==""&&(e.min!==void 0||e.max!==void 0)){const oe=qe(+i,(x=e.min)!=null?x:-1/0,(R=e.max)!=null?R:1/0);+i!==oe&&(i=oe.toString())}}let ye=0;if(e.formatter&&S===e.formatTrigger){const{formatter:le,maxlength:oe}=e;if(i=le(i),U(oe)&&ce(i)>+oe&&(i=rt(i,+oe)),o.value&&a.focused){const{selectionEnd:Me}=o.value,It=rt(N,Me);ye=ce(le(It))-ce(It)}}if(o.value&&o.value.value!==i)if(a.focused){let{selectionStart:le,selectionEnd:oe}=o.value;if(o.value.value=i,U(le)&&U(oe)){const Me=ce(i);te?(le-=te,oe-=te):ye&&(le+=ye,oe+=ye),o.value.setSelectionRange(Math.min(le,Me),Math.min(oe,Me))}}else o.value.value=i;i!==e.modelValue&&t("update:modelValue",i)},y=i=>{i.target.composing||z(i.target.value)},h=()=>{var i;return(i=o.value)==null?void 0:i.blur()},E=()=>{var i;return(i=o.value)==null?void 0:i.focus()},O=()=>{const i=o.value;e.type==="textarea"&&e.autosize&&i&&Fl(i,e.autosize)},P=i=>{a.focused=!0,t("focus",i),X(O),c("readonly")&&h()},L=i=>{a.focused=!1,z(d(),"onBlur"),t("blur",i),!c("readonly")&&(C("onBlur"),X(O),oo())},Y=i=>t("clickInput",i),W=i=>t("clickLeftIcon",i),se=i=>t("clickRightIcon",i),be=i=>{me(i),t("update:modelValue",""),t("clear",i)},Ce=_(()=>{if(typeof e.error=="boolean")return e.error;if(r&&r.props.showError&&a.status==="failed")return!0}),$e=_(()=>{const i=c("labelWidth"),S=c("labelAlign");if(i&&S!=="top")return{width:J(i)}}),Se=i=>{i.keyCode===13&&(!(r&&r.props.submitOnEnter)&&e.type!=="textarea"&&me(i),e.type==="search"&&h()),t("keypress",i)},xe=()=>e.id||`${l}-input`,Ae=()=>a.status,Oe=()=>{const i=ne("control",[c("inputAlign"),{error:Ce.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return f("div",{class:i,onClick:Y},[n.input()]);const S={id:xe(),ref:o,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:i,disabled:c("disabled"),readonly:c("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${l}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:L,onFocus:P,onInput:y,onClick:Y,onChange:Ht,onKeypress:Se,onCompositionend:Ht,onCompositionstart:Ll};return e.type==="textarea"?f("textarea",re(S,{inputmode:e.inputmode}),null):f("input",re(Ml(e.type,e.inputmode),S),null)},I=()=>{const i=n["left-icon"];if(e.leftIcon||i)return f("div",{class:ne("left-icon"),onClick:W},[i?i():f(ie,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},F=()=>{const i=n["right-icon"];if(e.rightIcon||i)return f("div",{class:ne("right-icon"),onClick:se},[i?i():f(ie,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},M=()=>{if(e.showWordLimit&&e.maxlength){const i=ce(d());return f("div",{class:ne("word-limit")},[f("span",{class:ne("word-num")},[i]),Xt("/"),e.maxlength])}},G=()=>{if(r&&r.props.showErrorMessage===!1)return;const i=e.errorMessage||a.validateMessage;if(i){const S=n["error-message"],x=c("errorMessageAlign");return f("div",{class:ne("error-message",x)},[S?S({message:i}):i])}},b=()=>{const i=c("labelWidth"),S=c("labelAlign"),x=c("colon")?":":"";if(n.label)return[n.label(),x];if(e.label)return f("label",{id:`${l}-label`,for:n.input?void 0:xe(),"data-allow-mismatch":"attribute",onClick:R=>{me(R),E()},style:S==="top"&&i?{width:J(i)}:void 0},[e.label+x])},A=()=>[f("div",{class:ne("body")},[Oe(),u.value&&f(ie,{ref:g,name:e.clearIcon,class:ne("clear")},null),F(),n.button&&f("div",{class:ne("button")},[n.button()])]),M(),G()];return ge({blur:h,focus:E,validate:k,formValue:v,resetValidation:$,getValidationStatus:Ae}),ze(to,{customValue:s,resetValidation:$,validateWithTrigger:C}),D(()=>e.modelValue,()=>{z(d()),$(),C("onChange"),X(O)}),ve(()=>{z(d(),e.formatTrigger),X(O)}),Ee("touchstart",be,{target:_(()=>{var i;return(i=g.value)==null?void 0:i.$el})}),()=>{const i=c("disabled"),S=c("labelAlign"),x=I(),R=()=>{const N=b();return S==="top"?[x,N].filter(Boolean):N||[]};return f(Ol,{size:e.size,class:ne({error:Ce.value,disabled:i,[`label-${S}`]:S}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:$e.value,valueClass:ne("value"),titleClass:[ne("label",[S,{required:T.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:x&&S!=="top"?()=>x:null,title:R,value:A,extra:n.extra})}}});const st=Z(Wl);let _e=0;function Yl(e){e?(_e||document.body.classList.add("van-toast--unclickable"),_e++):_e&&(_e--,_e||document.body.classList.remove("van-toast--unclickable"))}const[Ul,Be]=q("toast"),ql=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Kl={icon:String,show:Boolean,type:j("text"),overlay:Boolean,message:p,iconSize:p,duration:qn(2e3),position:j("middle"),teleport:[String,Object],wordBreak:String,className:de,iconPrefix:String,transition:j("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:de,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:p};var On=K({name:Ul,props:Kl,emits:["update:show"],setup(e,{emit:t,slots:n}){let l,a=!1;const o=()=>{const u=e.show&&e.forbidClick;a!==u&&(a=u,Yl(a))},g=u=>t("update:show",u),s=()=>{e.closeOnClick&&g(!1)},r=()=>clearTimeout(l),d=()=>{const{icon:u,type:v,iconSize:T,iconPrefix:w,loadingType:$}=e;if(u||v==="success"||v==="fail")return f(ie,{name:u||v,size:T,class:Be("icon"),classPrefix:w},null);if(v==="loading")return f(bn,{class:Be("loading"),size:T,type:$},null)},c=()=>{const{type:u,message:v}=e;if(n.message)return f("div",{class:Be("text")},[n.message()]);if(U(v)&&v!=="")return u==="html"?f("div",{key:0,class:Be("text"),innerHTML:String(v)},null):f("div",{class:Be("text")},[v])};return D(()=>[e.show,e.forbidClick],o),D(()=>[e.show,e.type,e.message,e.duration],()=>{r(),e.show&&e.duration>0&&(l=setTimeout(()=>{g(!1)},e.duration))}),ve(o),gt(o),()=>f(Cn,re({class:[Be([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:r,"onUpdate:show":g},ut(e,ql)),{default:()=>[d(),c()]})}});function Xl(){const e=fe({show:!1}),t=a=>{e.show=a},n=a=>{Q(e,a,{transitionAppear:!0}),t(!0)},l=()=>t(!1);return ge({open:n,close:l,toggle:t}),{open:n,close:l,state:e,toggle:t}}function Zl(e){const t=Fn(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const Gl={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ue=[],Jl=!1,Wt=Q({},Gl);const Ql=new Map;function Pn(e){return Fe(e)?e:{message:e}}function ea(){const{instance:e}=Zl({setup(){const t=B(""),{open:n,state:l,close:a,toggle:o}=Xl(),g=()=>{},s=()=>f(On,re(l,{onClosed:g,"onUpdate:show":o}),null);return D(t,r=>{l.message=r}),he().render=s,{open:n,close:a,message:t}}});return e}function ta(){if(!Ue.length||Jl){const e=ea();Ue.push(e)}return Ue[Ue.length-1]}function Ke(e={}){if(!Je)return{};const t=ta(),n=Pn(e);return t.open(Q({},Wt,Ql.get(n.type||Wt.type),n)),t}const na=e=>t=>Ke(Q({type:e},Pn(t))),ct=na("fail");Z(On);const[oa,ue,la]=q("cascader"),aa={title:String,options:Un(),closeable:H,swipeable:H,closeIcon:j("cross"),showHeader:H,modelValue:p,fieldNames:Object,placeholder:String,activeColor:String};var ia=K({name:oa,props:aa,emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:t,emit:n}){const l=B([]),a=B(0),[o,g]=Sn(),{text:s,value:r,children:d}=Q({text:"text",value:"value",children:"children"},e.fieldNames),c=(y,h)=>{for(const E of y){if(E[r]===h)return[E];if(E[d]){const O=c(E[d],h);if(O)return[E,...O]}}},u=()=>{const{options:y,modelValue:h}=e;if(h!==void 0){const E=c(y,h);if(E){let O=y;l.value=E.map(P=>{const L={options:O,selected:P},Y=O.find(W=>W[r]===P[r]);return Y&&(O=Y[d]),L}),O&&l.value.push({options:O,selected:null}),X(()=>{a.value=l.value.length-1});return}}l.value=[{options:y,selected:null}]},v=(y,h)=>{if(y.disabled)return;if(l.value[h].selected=y,l.value.length>h+1&&(l.value=l.value.slice(0,h+1)),y[d]){const P={options:y[d],selected:null};l.value[h+1]?l.value[h+1]=P:l.value.push(P),X(()=>{a.value++})}const E=l.value.map(P=>P.selected).filter(Boolean);n("update:modelValue",y[r]);const O={value:y[r],tabIndex:h,selectedOptions:E};n("change",O),y[d]||n("finish",O)},T=()=>n("close"),w=({name:y,title:h})=>n("clickTab",y,h),$=()=>e.showHeader?f("div",{class:ue("header")},[f("h2",{class:ue("title")},[t.title?t.title():e.title]),e.closeable?f(ie,{name:e.closeIcon,class:[ue("close-icon"),cn],onClick:T},null):null]):null,m=(y,h,E)=>{const{disabled:O}=y,P=!!(h&&y[r]===h[r]),L=y.color||(P?e.activeColor:void 0),Y=t.option?t.option({option:y,selected:P}):f("span",null,[y[s]]);return f("li",{ref:P?g(E):void 0,role:"menuitemradio",class:[ue("option",{selected:P,disabled:O}),y.className],style:{color:L},tabindex:O?void 0:P?0:-1,"aria-checked":P,"aria-disabled":O||void 0,onClick:()=>v(y,E)},[Y,P?f(ie,{name:"success",class:ue("selected-icon")},null):null])},k=(y,h,E)=>f("ul",{role:"menu",class:ue("options")},[y.map(O=>m(O,h,E))]),C=(y,h)=>{const{options:E,selected:O}=y,P=e.placeholder||la("select"),L=O?O[s]:P;return f(Bl,{title:L,titleClass:ue("tab",{unselected:!O})},{default:()=>{var Y,W;return[(Y=t["options-top"])==null?void 0:Y.call(t,{tabIndex:h}),k(E,O,h),(W=t["options-bottom"])==null?void 0:W.call(t,{tabIndex:h})]}})},V=()=>f(Il,{active:a.value,"onUpdate:active":y=>a.value=y,shrink:!0,animated:!0,class:ue("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:w},{default:()=>[l.value.map(C)]}),z=y=>{const h=y.parentElement;h&&(h.scrollTop=y.offsetTop-(h.offsetHeight-y.offsetHeight)/2)};return u(),D(a,y=>{const h=o.value[y];h&&z(h)}),D(()=>e.options,u,{deep:!0}),D(()=>e.modelValue,y=>{y!==void 0&&l.value.map(E=>{var O;return(O=E.selected)==null?void 0:O[r]}).includes(y)||u()}),()=>f("div",{class:ue()},[$(),V()])}});const ra=Z(ia),[sa,Yt]=q("cell-group"),ca={title:String,inset:Boolean,border:H};var ua=K({name:sa,inheritAttrs:!1,props:ca,setup(e,{slots:t,attrs:n}){const l=()=>{var o;return f("div",re({class:[Yt({inset:e.inset}),{[sn]:e.border&&!e.inset}]},n,vt()),[(o=t.default)==null?void 0:o.call(t)])},a=()=>f("div",{class:Yt("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?f(Kt,null,[a(),l()]):l()}});const da=Z(ua),fa={class:"form-container"},va={style:{margin:"16px"}},ga={__name:"Form",setup(e){const t=B({name:"",studentId:"",collegeAndClass:[],collegeAndClassDisplay:""}),n=B(!1);B([]),B(""),B([]),B(!0);let l=B([]),a=B(!1);ve(async()=>{try{const u=(await tt.get("/all_data")).data;console.log("Backend data:",u),l.value=Object.entries(u).map(([v,T])=>Array.isArray(T)?{text:v,value:v,children:T.map(w=>({text:w,value:w}))}:(console.warn(`Invalid classes data for college: ${v}`,T),{text:v,value:v,children:[]}))}catch(c){console.error("Failed to fetch college data:",c)}});const o={name:[{required:!0,message:"请输入姓名",trigger:"onBlur"}],studentId:[{required:!0,message:"请输入学号",trigger:"onBlur"}]},g=({selectedOptions:c})=>{t.value.collegeAndClassDisplay=c.map(u=>u.text).join("/"),n.value=!1},s=async()=>{if(!(!t.value.name||t.value.studentId.length!==9)){a.value=!0;try{const u=(await tt.get(`/verify?name=${t.value.name}&no=${t.value.studentId}`)).data;u&&u.学院&&u.班级?(t.value.collegeAndClass=[u.学院,u.班级],t.value.collegeAndClassDisplay=`${u.学院}/${u.班级}`):Ke("未查找到相关信息，请先检查是否填写错误。如果确认无误，请自行选择班级。"),a.value=!1}catch(c){console.error("Failed to verify info:",c),Ke("请求失败，请稍后重试。"),a.value=!1}}},r=B(!1),d=async c=>{if(c.collegeAndClass.length===0||c.studentId.length!==9||c.name.length===0)return ct("请填写正确信息");r.value=!0,console.log(r.value);try{const u=await tt.post("/add_record",{name:c.name,no:parseInt(c.studentId),college:c.collegeAndClass.split("/")[0],class:c.collegeAndClass.split("/")[1]});u.data.success?(Ke("提交成功"),jn.push({name:"Submit"})):ct(u.data.error||"提交失败")}catch(u){console.error("提交失败:",u),ct("提交失败，请稍后重试")}finally{r.value=!1}};return(c,u)=>(Nn(),Mn("div",fa,[u[8]||(u[8]=nt("div",{class:"title"}," 学院认证补全表单 ",-1)),f(ee(zl),{onSubmit:d,rules:o},{default:Ne(()=>[f(ee(da),{inset:""},{default:Ne(()=>[f(ee(st),{modelValue:t.value.name,"onUpdate:modelValue":u[0]||(u[0]=v=>t.value.name=v),name:"name",label:"姓名",placeholder:"请输入姓名",rules:o.name,onBlur:s},null,8,["modelValue","rules"]),f(ee(st),{modelValue:t.value.studentId,"onUpdate:modelValue":u[1]||(u[1]=v=>t.value.studentId=v),name:"studentId",label:"学号",placeholder:"请输入以2开头的9位学号",rules:o.studentId,onBlur:s},null,8,["modelValue","rules"]),f(ee(st),{modelValue:t.value.collegeAndClassDisplay,"onUpdate:modelValue":u[2]||(u[2]=v=>t.value.collegeAndClassDisplay=v),name:"collegeAndClass",label:"学院/班级",disabled:ee(a),placeholder:"请选择学院和班级",readonly:"",onClick:u[3]||(u[3]=v=>n.value=!0)},null,8,["modelValue","disabled"]),f(ee(Cn),{show:n.value,"onUpdate:show":u[5]||(u[5]=v=>n.value=v),position:"bottom"},{default:Ne(()=>[f(ee(ra),{modelValue:t.value.collegeAndClass,"onUpdate:modelValue":u[4]||(u[4]=v=>t.value.collegeAndClass=v),title:"选择学院和班级",options:ee(l),onFinish:g},null,8,["modelValue","options"])]),_:1},8,["show"])]),_:1}),u[7]||(u[7]=nt("div",{class:"tip"},"信息如果不匹配，请自行重新选择.",-1)),nt("div",va,[f(ee(Mo),{round:"",block:"",type:"primary","native-type":"submit",disabled:r.value,loading:r.value},{default:Ne(()=>[...u[6]||(u[6]=[Xt(" 提交 ",-1)])]),_:1},8,["disabled","loading"])])]),_:1})]))}},ba=Hn(ga,[["__scopeId","data-v-8e752948"]]);export{ba as default};
